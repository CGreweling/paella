package {import flash.display.Sprite;import flash.display.DisplayObject;import flash.system.Security;import flash.media.Video;import paella.IMediaElement;import paella.External;import paella.JavascriptTrace;import paella.JavascriptInterface;import paella.VideoElement;import flash.external.ExternalInterface;	public class FlashVideoPlayer extends Sprite {	var _javascriptInterface:JavascriptInterface;	var _autoplay:Boolean = false;	var _preload:String = "none";	var _timerRate:Number = 150;	var _startVolume:Number = 1.0;	var _streamer:String = "flashtreamer";		var _mediaElement:IMediaElement;	var _video:DisplayObject;		public function FlashVideoPlayer() {		//Security.allowDomain("*");		_javascriptInterface = new JavascriptInterface();				this.registerExternalInterface();						var url:String = "http://matterhorn.cc.upv.es:8080/static/engage-player/6b237477-5a2e-4cfb-b30a-3685ea4dd2eb/88d7ab26-ca08-4953-81fb-2872d57650f7/polimedia_muxed.mp4";		//paella.External.get().addCallback("sayHello",this.sayHello);				External.call("base.log.setLevel",4);		JavascriptTrace.log(url);						_mediaElement = new VideoElement(_javascriptInterface, _autoplay, _preload, _timerRate, _startVolume, _streamer);		_video = (_mediaElement as VideoElement).video;		_video.width = stage.stageWidth;		_video.height = stage.stageWidth;		//(_video as Video).smoothing = _enableSmoothing;		(_mediaElement as VideoElement).setReference(this);//		(_mediaElement as VideoElement).setPseudoStreaming(_enablePseudoStreaming);//		(_mediaElement as VideoElement).setPseudoStreamingStartParam(_pseudoStreamingStartQueryParam);//_video.scaleMode = VideoScaleMode.MAINTAIN_ASPECT_RATIO;		addChild(_video);				_mediaElement.setSrc(url);		_mediaElement.load();		_mediaElement.play();	}		private function registerExternalInterface():void {		paella.External.addCallback("log",paella.JavascriptTrace.log);		paella.External.addCallback("error",paella.JavascriptTrace.error);		paella.External.addCallback("warning",paella.JavascriptTrace.warning);		paella.External.addCallback("debug",paella.JavascriptTrace.debug);	}	public function sayHello(message:String):void {		paella.JavascriptTrace.log(message);	}	}}